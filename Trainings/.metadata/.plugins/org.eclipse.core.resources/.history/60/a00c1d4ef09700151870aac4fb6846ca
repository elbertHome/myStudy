CC  = g++ 
INCLUDES = ./includes
LIBS =
CFLAGS = -I${INCLUDES} -O0 -g3 -Wall -std=c++0x
OBJS = ./bin/error.o ./bin/wrapsock.o ./bin/wrapunix.o ./bin/wrapstdio.o ./bin/wraplib.o
HEADS = unp.h config.h
TARGET = ./bin/tcpserv01

vpath %.c ./src
vpath %.c ./libs
vpath %.h ${INCLUDES}
vpath %.cpp ./src
vpath %.cpp ./libs
vpath %.hpp ${INCLUDES}


all:	${TARGET}

./bin/tcpserv01: tcpserv01.cpp ${OBJS} ${HEAD}
		${CC} ${CFLAGS} -o $@ ./src/tcpserv01.cpp ${OBJS} ${LIBS}

./bin/error.o: error.c ${HEAD}
		${CC} ${CFLAGS} -c ./libs/error.c ${LIBS} 
		
./bin/wrapsock.o: wrapsock.c ${HEAD}
		${CC} ${CFLAGS} -c ./libs/wrapsock.c ${LIBS} 
		
./bin/wrapunix.o: wrapunix.c ${HEAD}
		${CC} ${CFLAGS} -c ./libs/wrapunix.c ${LIBS} 
		
./bin/wrapstdio.o: wrapstdio.c ${HEAD}
		${CC} ${CFLAGS} -c ./libs/wrapstdio.c ${LIBS} 
		
./bin/wraplib.o: wraplib.c ${HEAD}
		${CC} ${CFLAGS} -c ./libs/wraplib.c ${LIBS} 

		
.PHONY: clean
clean:
		rm ${TARGET} ${OBJS} -rf



